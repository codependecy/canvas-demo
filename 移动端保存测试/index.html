<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>canvas</title>
		<style type="text/css">
			#box1{
				background: lightblue;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<canvas id="box1"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('canvas')
			var ctx = canvas.getContext('2d')

			canvas.width = 300
			canvas.height = 300

			// 画圆
			ctx.fillStyle = 'yellow'
			ctx.fillRect(0, 0, 50, 100)

			ctx.strokeStyle = 'blue'
			ctx.strokeRect(0, 120, 50, 100)

			var img = new Image()
			img.onload = () => {
				// 画图片
				ctx.drawImage(img, 60, 0)
				// toImage
				var dataImg = new Image()
				dataImg.src = canvas.toDataURL('image/png')
				document.body.appendChild(dataImg) // 长按图片保存
			}
			img.crossOrigin = 'anonymous'
			img.src = 'https://nos.netease.com/easyread/fle/a0df1d4009c7a2ec5fee/1524215500140/avatar.png?' + (+new Date())
		</script>
	</body>
</html>
